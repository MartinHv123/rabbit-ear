<!DOCTYPE html>

<title>Rabbit Ear</title>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="style.css">
<script type="text/javascript" src="../../rabbit-ear.js"></script>

<script>
let origami = RE.Origami({folding:true, padding:0.15, autofit:false});
let pattern = RE.Origami({padding:0.15});

origami.onMouseMove = function(mouse) {
	if (mouse.isPressed) {
		pattern.cp = origami.cp;
	}
}

pattern.onMouseDown = function() {
	pattern.backup = pattern.cp.copy();
}

pattern.onMouseMove = function(mouse) {
	if (mouse.isPressed) {
		pattern.cp = pattern.backup.copy();
		pattern.cp.valleyFold(mouse.pressed, mouse.drag, 0);
		origami.cp = pattern.cp;
		origami.fold();
	}
}

</script>
